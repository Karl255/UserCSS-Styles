/* ==UserStyle==
@name         e-Dnevnik Material Dark
@author       Karl_255 (Karlo BistriÄki)
@namespace    github.com/Karl255
@version      1.0.1
@description  Material UI tamna tema za e-Dnevnik (A Material dark theme for e-Dnevnik)
@homepageURL  https://github.com/Karl255/UserCSS-Styles
@supportURL   https://github.com/Karl255/UserCSS-Styles/issues
@updateURL    https://github.com/Karl255/UserCSS-Styles/e-dnevnik-material-dark.user.css
@license      unlicense
@preprocessor less

@var color accentColor "Accent color" #1D4E73
==/UserStyle== */

@-moz-document domain("ocjene.skole.hr") {
	:root {
		--surface-color: #ffffff0b;
		--surface-color-light: #ffffff21; 
		--accent-color: @accentColor;
		--accent-color-light: lighten(@accentColor, 10%);
	}
	
	/*** general stuff and fixes ***/
	html,
	body {
		min-height: 100%;
	}
	
	#page-wrapper {
		max-height: unset;
		min-height: unset;
	}
	
	.show .overall-grade {
		border-bottom-left-radius: 10px;
		border-bottom-right-radius: 10px;
	}
	
	.dropdown-menu-wrapper ul li:last-child a {
		border-bottom: none;
	}
	
	.dropdown-content {
		border: 1px solid var(--surface-color);
		border-top: none;
		/* because box-sizing is content-box, the dropdown-content is the right width, but shifted 1px to the right */
		transform: translatex(-1px);
	}
	
	#class-administration-menu .selected {
		position: relative;
		
		a {
			color: var(--accent-color-light);
		}
		
		&::after {
			content: " ";
			position: absolute;
			bottom: 0;
			background: var(--accent-color-light);
			width: 100%;
			height: 2px;
			transform: translatex(-5px);
		}
	}
	
	/* good that I have negative grades, allows me to test this */
	.table-container .flex-table.row.negative {
		background-color: #ff00002c;
		
		.flex-row {
			background-color: unset;
			-webkit-box-shadow: unset;
			box-shadow: unset;
		}
	}
	
	.flex-table.row:last-child {
		border-bottom-left-radius: 10px;
		border-bottom-right-radius: 10px;
	}
	
	/* classes list horizontal scrollbar */
	.classes {
		padding-left: 0; /* having that padding there is just stupid so I removed it */
		scrollbar-width: thin;
		scrollbar-color: var(--surface-color-light) var(--surface-color);
		
		&::-webkit-scrollbar {
			width: 8px;
		}
		
		&::-webkit-scrollbar-track {
			background: var(--surface-color);
		}
		
		&::-webkit-scrollbar-thumb {
			background: var(--surface-color-light);
		}
	}
	
	/*** text ***/
	/* titles */
	html, /* the title color wasn't set anywhere, eg. it inherited it from html */
	.flex-table.header,
	.school-name .schoolyear span:nth-child(2) {
		color: white;
	}
	
	/* normal text */
	p,
	a,
	label,
	input,
	.footer,
	.section-text,
	.flex-table {
		color: #cacaca;
	}
	
	/* smallprint */
	.login-body-box-smallprint > span,
	.class-alerts ul li,
	.dropdown-menu-wrapper .dropdown-title,
	.export-menu a.disabled {
		color: #7e7e7e;
	}
	
	/* text - logo */
	.logo,
	.logo-text,
	.logo-link {
		color: #A9ABB0;
	}
	
	
	/*** backgrounds ***/
	/* base */
	html,
	body {
		background: #121212 !important;
	}

	/* material ui layer */
	#page-wrapper,
	.login-body-box,
	.past-schoolyear .class-info,
	input[type="text"],
	input[type="password"],
	.class-menu-vertical .show li,
	.section-text {
		background: var(--surface-color) !important;
	}
	
	/* layers that can't be transparent */
	.dropdown-content,
	.dropdown-menu-header {
		background: #262626;
	}
	
	/* accent background */
	.content-menu,
	.flex-table.header.first,
	.dropdown-title {
		background: var(--accent-color);
	}
	
	/* transparent */
	.content-menu div,
	.flex-table.header,
	.dropdown-menu-wrapper ul li a {
		background: none;
	}
	
	
	/*** borders and shadows ***/
	/* border removals */
	input[type="text"],
	input[type="password"],
	.section-text {
		border: none;
	}
	
	/* border recolor */
	.class,
	.class-menu,
	.class-menu-vertical .class-info .class-alerts,
	.class-menu ul li,
	.class-menu-vertical .class-menu li:last-of-type,
	.list li,
	.flex-table,
	.flex-row,
	.content-menu div,
	.dropdown-menu-wrapper .dropdown-title,
	.dropdown-menu-wrapper ul li a,
	.dropdown-menu-header li {
		border-color: var(--surface-color) !important;
	}
	
	/* border recolor (lighter) */
	.content-menu {
		--surface-color: #ffffff21;
	}
	
	/* text-colored border (separators) */
	.list li span:first-of-type {
		border-color: currentcolor;
	}
	
	/* shadow removals */
	#page-wrapper,
	.login-body-box,
	.class-menu-vertical .class-info,
	.content-menu,
	.dropdown-content,
	#class-administration-menu .selected {
		box-shadow: unset;
	}
	
	/* border replacements for elements with shadows (shadows were barely visible so I had to do that) */
	#class-administration-menu,
	.content-wrapper,
	.dropdown-menu-header {
		box-shadow: unset;
		border: 1px solid var(--surface-color)
	}
}
